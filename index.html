<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Puzzle Sat encoding</title>
  <meta name="viewport" content="width=device-width">
  <style media="screen">
  html, body{
    margin: 0;
    padding: 0;
  }
  table{
    width: 291px;
    margin: 20px auto;
  }
  table, td{
    border: 1px solid black;
    border-collapse: collapse;
    text-align: center;
  }
  th, td {
      padding: 5px;
  }
  </style>
</head>
<body>
<div id="container">
</div>
<script type="text/javascript">
'use strict';
var PUZZLE = [
  ".23..0....",
  "....3.2..6",
  "..5.53.574",
  ".4.5.5.6.3",
  "..4.5.6..3",
  "...2.5....",
  "4.1...11..",
  "4.1...1.4.",
  "....6....4",
  ".44....4.."
];
function Vector(x, y) {
  this.x = x;
  this.y = y;
}
Vector.prototype.plus = function (other) {
  return new Vector(this.x + other.x, this.y + other.y);
};

function Grid(width, height) {
  this.space = new Array(width * height);
  this.width = width;
  this.height = height;
}
Grid.prototype.isInside = function (vector) {
  return vector.x >= 0 && vector.x < this.width && vector.y >= 0 && vector.y < this.height;
};
Grid.prototype.get = function (vector) {
  return this.space[vector.x + this.width * vector.y];
};
Grid.prototype.set = function (vector, value) {
  this.space[vector.x + this.width * vector.y] = value;
};

function elementFromChar(ch) {
  if(ch === ".")
    return null;
  return parseInt(ch);
}

function Table(map) {
  this.grid = new Grid(map[0].length, map.length);
  map.forEach(function (line, y) {
    for (let x = 0; x < line.length; x++) {
      this.grid.set(new Vector(x, y), elementFromChar(line[x]));
    }
  }, this);
}

function charFromElement(element) {
  if(element === null)
    return " ";
  return element;
}
Table.prototype.toString = function () {
  var table = document.createElement('table');

  for(let y = 0; y < this.grid.height; y++){
    var tbody = document.createElement('tr');

    for (let x = 0; x < this.grid.width; x++) {
      var element = this.grid.get(new Vector(x, y));
      var td = document.createElement('td');

      td.innerHTML = charFromElement(element);
      tbody.appendChild(td);
    }
    table.appendChild(tbody);
  }
  return table;
  // document.getElementById('container').appendChild(table);
  // table.setAttribute('border', 'solid');
  // table.setAttribute('style', 'width: 230px; border: 1px solid black; border-collapse: collapse; text-align: center;');
};

var world = new Table(PUZZLE);
document.getElementById('container').appendChild(world.toString());
</script>
</body>
</html>
